<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xmlns:ng="http://docbook.org/docbook-ng"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Руководство разработчика: Программный комплекс для моделирования аэродинамических течений</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /></head><body><div xml:lang="ru" class="book" lang="ru"><div class="titlepage"><div><div><h1 class="title"><a id="id834"></a>Руководство разработчика: Программный комплекс для моделирования аэродинамических течений</h1></div><div><div class="author"><h3 class="author">Щетина С. А.</h3></div></div><div><p class="releaseinfo">Версия 1.0</p></div><div><p class="copyright">Авторские права © 2025 Все права защищены</p></div></div><hr /></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="preface"><a href="#id836">Навигация</a></span></dt><dt><span class="chapter"><a href="#id837">1. Введение</a></span></dt><dt><span class="chapter"><a href="#id838">2. Системные требования</a></span></dt><dt><span class="chapter"><a href="#id839">3. Установка и запуск</a></span></dt><dt><span class="chapter"><a href="#id840">4. Описание интерфейса</a></span></dt><dt><span class="preface"><a href="#id841"></a></span></dt><dt><span class="chapter"><a href="#id842">5. Обзор архитектуры</a></span></dt><dt><span class="chapter"><a href="#id843">6. Структура компонентов</a></span></dt><dt><span class="chapter"><a href="#id846">7. Классовая структура</a></span></dt><dd><dl><dt><span class="section"><a href="#id844">Модуль ввода данных</a></span></dt><dt><span class="section"><a href="#id845">Модуль визуализации</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id849">8. Интеграция с внешними системами</a></span></dt><dd><dl><dt><span class="section"><a href="#id847">Gmsh</a></span></dt><dt><span class="section"><a href="#id848">Matplotlib и PySide6</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id852">9. Форматы обмена данными</a></span></dt><dd><dl><dt><span class="section"><a href="#id850">Экспорт из модуля ввода данных</a></span></dt><dt><span class="section"><a href="#id851">Импорт в модуль визуализации</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id855">10. Расширяемость</a></span></dt><dd><dl><dt><span class="section"><a href="#id853">Поддержка нового формата экспорта результатов</a></span></dt><dt><span class="section"><a href="#id854">Интеграция с новым вычислительным модулем</a></span></dt></dl></dd></dl></div><div class="list-of-figures"><p><strong>Список иллюстраций</strong></p><dl><dt>4.1. <a href="#fig">Главное окно модуля ввода данных</a></dt></dl></div><div class="list-of-tables"><p><strong>Список таблиц</strong></p><dl><dt>1. <a href="#table">Пример файла с результатами вычислений, полученного из вычислительного модуля</a></dt></dl></div><div class="preface"><div class="titlepage"><div><div><h1 class="title"><a id="id836"></a>Навигация</h1></div></div></div><p class="html">Перейти к: <a class="ulink" href="user.html" target="_top">Руководство пользователя (HTML)</a></p><p><a class="ulink" href="google.com" target="_top">google.com</a></p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id837"></a>Глава 1. Введение</h1></div></div></div><p>Данный программный комплекс предназначен для моделирования ламинарных и турбулентных аэродинамических течений. Он объединяет три компонента: модуль ввода данных, вычислительный модуль и модуль визуализации результатов.</p><p>Комплекс ориентирован на решение типовых задач, таких как обтекание профиля крыла или трубы, и обеспечивает сквозной цикл от постановки задачи до анализа результатов.</p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id838"></a>Глава 2. Системные требования</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Операционная система: Windows, Linux или macOS</p></li><li class="listitem"><p>Python 3.13 или выше</p></li><li class="listitem"><p>Зависимости: PySide6, Matplotlib, Pandas, Gmsh</p></li><li class="listitem"><p>Вычислительный модуль (например, COMSOL Multiphysics) для выполнения расчётов</p></li></ul></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id839"></a>Глава 3. Установка и запуск</h1></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Установите пакетный менеджер uv.</p></li><li class="listitem"><p>Запустите модуль ввода данных:</p><pre class="programlisting">uv run modules/data/main.py</pre></li><li class="listitem"><p>Для визуализации результатов запустите:</p><pre class="programlisting">uv run modules/visualization/main.py</pre></li></ol></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id840"></a>Глава 4. Описание интерфейса</h1></div></div></div><p>Программный комплекс состоит из двух основных приложений:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="emphasis"><em>Модуль ввода данных</em></span> — содержит (см. <a class="xref" href="#fig" title="Рисунок 4.1. Главное окно модуля ввода данных">Рисунок 4.1, «Главное окно модуля ввода данных»</a>):
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Дерево проекта (настройки материала, модель турбулентности, начальные и граничные условия)</p></li><li class="listitem"><p>Рабочую зону для создания геометрии (примитивы, булевы операции)</p></li><li class="listitem"><p>Панель инструментов (построение сетки, экспорт конфигурации)</p></li></ul></div><p>
        </p><div class="figure"><a id="fig"></a><p class="title"><strong>Рисунок 4.1. Главное окно модуля ввода данных</strong></p><div class="figure-contents"><div class="mediaobject" align="center"><img src="fig/gui.png" align="middle" alt="Главное окно модуля ввода данных" /></div></div></div><br class="figure-break" /></li><li class="listitem"><p><span class="emphasis"><em>Модуль визуализации</em></span> — содержит:
    </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Панель настроек (выбор файла с результатами, тип графика, параметры отображения)</p></li><li class="listitem"><p>Область вывода графика (контурные карты, линии тока, одномерные зависимости)</p></li></ul></div><p>
    </p></li></ul></div></div><div class="preface"><div class="titlepage"></div><div class="table"><a id="table"></a><p class="title"><strong>Таблица 1. Пример файла с результатами вычислений, полученного из вычислительного модуля</strong></p><div class="table-contents"><table class="table" summary="Пример файла с результатами вычислений, полученного из вычислительного модуля" border="1"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><thead><tr><th align="center">x</th><th align="center">y</th><th align="center">U (скорость)</th><th align="center">u (пр. U на ось х)</th><th align="center">v (пр. U на ось у)</th><th align="center">p (давление)</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">50</td><td align="center">10</td><td align="center">15</td><td align="center">15</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">49</td><td align="center">11</td><td align="center">15</td><td align="center">14</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">49</td><td align="center">11</td><td align="center">15</td><td align="center">14</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id842"></a>Глава 5. Обзор архитектуры</h1></div></div></div><p>Программный комплекс реализован на языке Python и построен по модульному принципу. Он состоит из трёх независимых, но взаимодействующих модулей: <span class="emphasis"><em>модуль ввода данных</em></span>, <span class="emphasis"><em>вычислительный модуль</em></span> (внешний) и <span class="emphasis"><em>модуль визуализации</em></span>. Такая архитектура обеспечивает гибкость, упрощает тестирование и позволяет легко заменять или обновлять отдельные компоненты.</p><p>Модули обмениваются данными через файлы в стандартизированных форматах: геометрия и сетка — в формате <code class="filename">.msh</code> (Gmsh), параметры задачи — в <code class="filename">.json</code>, результаты расчётов — в <code class="filename">.csv</code> или <code class="filename">.txt</code>.</p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id843"></a>Глава 6. Структура компонентов</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Модуль ввода данных</em></span> — реализован на PySide6, содержит:
            </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">Дерево проекта для настройки материала, модели турбулентности, начальных и граничных условий</li><li class="listitem">Рабочую зону для создания геометрии (примитивы, булевы операции)</li><li class="listitem">Интеграцию с библиотекой Gmsh для генерации конечно-элементной сетки</li></ul></div><p>
        </p></li><li class="listitem"><p><span class="emphasis"><em>Вычислительный модуль</em></span> — внешняя система (например, COMSOL Multiphysics). Программный комплекс обеспечивает только экспорт данных для неё; интеграция на уровне API не реализована из-за ограничений стороннего ПО.</p></li><li class="listitem"><p><span class="emphasis"><em>Модуль визуализации</em></span> — реализован на PySide6 с интеграцией Matplotlib для построения контурных карт, линий тока и одномерных графиков.</p></li><li class="listitem"><p><span class="emphasis"><em>Вспомогательные утилиты</em></span> — парсинг CSV/JSON, работа с файловой системой.</p></li></ul></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id846"></a>Глава 7. Классовая структура</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="section"><a href="#id844">Модуль ввода данных</a></span></dt><dt><span class="section"><a href="#id845">Модуль визуализации</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id844"></a>Модуль ввода данных</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">MainWindow</code> — основное окно приложения, управляет компоновкой и взаимодействием виджетов.</p></li><li class="listitem"><p><code class="code">ProjectTreeWidget</code> — виджет дерева проекта. Хранит и отображает иерархию настроек: материал, модель турбулентности, начальные и граничные условия.</p></li><li class="listitem"><p><code class="code">GeometryScene</code> и <code class="code">GeometryView</code> — наследники <code class="code">QGraphicsScene</code> и <code class="code">QGraphicsView</code> для визуального редактирования геометрии.</p></li><li class="listitem"><p><code class="code">MeshGenerator</code> — обёртка над Gmsh API для генерации сетки на основе построенной геометрии и привязанных физических групп (граничных условий).</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id845"></a>Модуль визуализации</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="code">VisualizationWindow</code> — основное окно, содержит панель настроек и область графика.</p></li><li class="listitem"><p><code class="code">DataParser</code> — использует библиотеку pandas для загрузки и структурирования данных из CSV/TXT файлов.</p></li><li class="listitem"><p><code class="code">Plotter</code> — инкапсулирует логику построения графиков с помощью Matplotlib и их встраивания в интерфейс PySide6 через <code class="code">FigureCanvasQTAgg</code>.</p></li></ul></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id849"></a>Глава 8. Интеграция с внешними системами</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="section"><a href="#id847">Gmsh</a></span></dt><dt><span class="section"><a href="#id848">Matplotlib и PySide6</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id847"></a>Gmsh</h2></div></div></div><p>Библиотека Gmsh используется для генерации двумерной треугольной сетки. Интеграция осуществляется через официальный Python API. Перед использованием необходимо инициализировать Gmsh с помощью <code class="code">gmsh.initialize()</code>.</p><p>Геометрические примитивы из рабочей зоны преобразуются в объекты Gmsh, а граничные условия привязываются к ним как физические группы.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id848"></a>Matplotlib и PySide6</h2></div></div></div><p>Для встраивания графиков Matplotlib в GUI используется виджет <code class="code">FigureCanvasQTAgg</code>. Это позволяет создавать интерактивные и статические графики, которые полностью интегрированы в оконную систему Qt.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id852"></a>Глава 9. Форматы обмена данными</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="section"><a href="#id850">Экспорт из модуля ввода данных</a></span></dt><dt><span class="section"><a href="#id851">Импорт в модуль визуализации</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id850"></a>Экспорт из модуля ввода данных</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">geometry.msh</code> — файл сетки в формате Gmsh, содержащий геометрию, сетку и физические группы (метки для граничных условий).</p></li><li class="listitem"><p><code class="filename">parameters.json</code> — файл с параметрами задачи. Пример структуры:
            </p><pre class="programlisting">{
    "rho": 1.204,
    "mu": 1.81e-5,
    "turb_model": "SST",
    "init_conditions": {"u": 0, "v": 0, "p": 0, "k": 4.2e-7, "omega": 2.78}
    }</pre><p>
            </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id851"></a>Импорт в модуль визуализации</h2></div></div></div><p>Модуль ожидает текстовый файл с разделителями (CSV/TXT), содержащий столбцы: <code class="code">x, y, u, v, p, U</code> (координаты, компоненты скорости, давление, модуль скорости). Используется библиотека pandas для парсинга.</p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="id855"></a>Глава 10. Расширяемость</h1></div></div></div><div class="toc"><p><strong>Содержание</strong></p><dl class="toc"><dt><span class="section"><a href="#id853">Поддержка нового формата экспорта результатов</a></span></dt><dt><span class="section"><a href="#id854">Интеграция с новым вычислительным модулем</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id853"></a>Поддержка нового формата экспорта результатов</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Расширьте класс <code class="code">DataParser</code>, добавив метод для чтения нового формата.</p></li><li class="listitem"><p>Добавьте опцию выбора формата в интерфейс модуля визуализации.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id854"></a>Интеграция с новым вычислительным модулем</h2></div></div></div><p>Для интеграции с новым вычислителем необходимо обеспечить совместимость форматов обмена данными. В идеале, новый модуль должен уметь импортировать <code class="filename">.msh</code> и <code class="filename">.json</code>. В противном случае потребуется реализовать конвертер.</p></div></div></div></body></html>